<ng-container *ngIf="(studentsState$ | async).error; else table">
  <app-error-message-display class="students__error"
                             [error]="(studentsState$ | async).error"
  ></app-error-message-display>
</ng-container>

<ng-template #table>
<div class="container" *ngIf="(studentsState$ | async).loaded">
  <app-search-bar class="students__search" (searchRes)="renderSearch($event)"></app-search-bar>
  <app-one-header-table
    [displayDelete]="true"
    [config]="tableConfig"
    (click)="deleteStudent($event)"
    [paginationConstant]="itemsPerPage"
    [currentPagination]="page"
    (emitPagination)="dispatchPaginationState($event)"
    class="student-table__table"
  ></app-one-header-table>
  <a routerLink="/students/new-student" class="table__link">
    <app-button
      class="students__button"
      screenReader="Add new student"
      textContent="+"
    ></app-button>
  </a>
</div>
</ng-template>

